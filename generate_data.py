import pandas as pd
import random

canteens = ["学一食堂", "学二食堂", "学三食堂", "学四食堂"]
categories = ["热菜", "凉菜", "主食", "汤羹", "小吃"]
tags_pool = ["辣", "微辣", "清淡", "甜", "咸", "酸", "高蛋白", "低脂", "重油", "素", "荤", "海鲜", "家常", "特色", "早餐", "夜宵"]

# Sample data to permute
dishes_base = [
    ("宫保鸡丁", "热菜", ["辣", "荤", "高蛋白"], 15, 550),
    ("番茄炒蛋", "热菜", ["清淡", "素", "低脂"], 10, 300),
    ("鱼香肉丝", "热菜", ["辣", "荤", "甜"], 16, 520),
    ("红烧肉", "热菜", ["荤", "重油", "甜"], 22, 750),
    ("清炒时蔬", "热菜", ["清淡", "素", "低脂"], 8, 150),
    ("麻婆豆腐", "热菜", ["辣", "素", "咸"], 12, 400),
    ("水煮鱼", "热菜", ["辣", "海鲜", "重油"], 35, 800),
    ("糖醋里脊", "热菜", ["甜", "荤", "酸"], 18, 600),
    ("回锅肉", "热菜", ["辣", "荤", "重油"], 20, 700),
    ("土豆牛腩", "热菜", ["咸", "荤", "家常"], 25, 650),
    ("蒜蓉西兰花", "热菜", ["清淡", "素", "低脂"], 12, 180),
    ("口水鸡", "凉菜", ["辣", "荤", "凉菜"], 28, 500),
    ("拍黄瓜", "凉菜", ["清淡", "素", "凉菜"], 8, 100),
    ("凉拌木耳", "凉菜", ["酸", "素", "凉菜"], 10, 120),
    ("夫妻肺片", "凉菜", ["辣", "荤", "凉菜"], 32, 550),
    ("皮蛋瘦肉粥", "汤羹", ["清淡", "荤", "汤羹"], 6, 250),
    ("紫菜蛋花汤", "汤羹", ["清淡", "素", "汤羹"], 4, 80),
    ("酸辣汤", "汤羹", ["酸", "辣", "汤羹"], 5, 120),
    ("米饭", "主食", ["主食", "清淡"], 2, 200),
    ("馒头", "主食", ["主食", "清淡"], 1, 150),
    ("水饺", "主食", ["主食", "荤"], 15, 400),
    ("炸酱面", "主食", ["主食", "咸"], 14, 450),
    ("兰州拉面", "主食", ["主食", "汤羹", "清淡"], 12, 400),
    ("肉夹馍", "小吃", ["荤", "咸", "小吃"], 8, 350),
    ("煎饼果子", "小吃", ["素", "咸", "小吃"], 10, 400),
    ("烤冷面", "小吃", ["酸", "甜", "辣"], 12, 450),
    ("麻辣烫", "小吃", ["辣", "重油", "汤羹"], 18, 600),
    ("黄焖鸡米饭", "热菜", ["荤", "咸", "家常"], 20, 700),
    ("西红柿鸡蛋面", "主食", ["清淡", "素", "主食"], 12, 350),
    ("扬州炒饭", "主食", ["荤", "咸", "主食"], 15, 500),
    ("酸菜鱼", "热菜", ["酸", "辣", "海鲜"], 38, 750),
    ("地三鲜", "热菜", ["素", "咸", "重油"], 16, 450),
    ("干煸四季豆", "热菜", ["辣", "素", "咸"], 14, 300),
    ("京酱肉丝", "热菜", ["甜", "荤", "家常"], 22, 550),
    ("木须肉", "热菜", ["荤", "咸", "家常"], 18, 500),
    ("香菇滑鸡", "热菜", ["清淡", "荤", "低脂"], 18, 450),
    ("清蒸鲈鱼", "热菜", ["清淡", "海鲜", "高蛋白"], 45, 300),
    ("葱爆羊肉", "热菜", ["荤", "咸", "高蛋白"], 30, 600),
    ("酸辣粉", "小吃", ["酸", "辣", "小吃"], 10, 400),
    ("热干面", "主食", ["咸", "辣", "主食"], 8, 450)
]

data = []
for i in range(100):
    # Randomly pick a base dish and slightly modify it to create variety
    base = random.choice(dishes_base)
    name = base[0]
    category = base[1]
    tags = base[2].copy()
    
    # Add some random tags
    if random.random() > 0.7:
        extra_tag = random.choice(tags_pool)
        if extra_tag not in tags:
            tags.append(extra_tag)
            
    # Randomize price and calories slightly
    price = round(base[3] * random.uniform(0.9, 1.2), 1)
    calories = int(base[4] * random.uniform(0.9, 1.1))
    
    # Assign a random canteen
    canteen = random.choice(canteens)
    
    # Create a unique name if duplicated (simple method)
    if i > 40:
        name = f"{random.choice(['特色', '招牌', '传统', '秘制'])}·{name}"
    
    data.append([name, category, ";".join(tags), calories, price, canteen])

df = pd.DataFrame(data, columns=["name", "category", "tags", "calories", "price", "canteen"])
df.to_csv("menu_data.csv", index=False, encoding="utf-8-sig")
print("Successfully generated 100 menu items.")
